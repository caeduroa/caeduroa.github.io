<!DOCTYPE html>

<head>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
</head>

<body>
	<div class="container">
		<div class="row">
			&nbsp;
		</div>
		<div class="row">
			<h1 class="mx-auto">Encode text</h1>
		</div>
		<div class="row">
			<div class="col" align="center">
				<textarea id="text" cols="100" rows="10" class="mx-auto" readonly></textarea>
			</div>
		</div>
		<div class="row">
			<div class="mx-auto">Right click and save the following image</div>
		</div>
		<div class="row">
			<div class="col" align="center">
				<canvas id='textCanvas'></canvas>
			</div>
		</div>
		<div class="row">
			<h1 class="mx-auto">Decode image</h1>
		</div>
		<div class="row">
			<div  class="col" align="center">
				<input type="file" id="img" name="img" accept="image/x-png" onchange="createTextFromImage()">
			</div>
		</div>
		<div class="row">
			<div  class="col" align="center">
				<canvas id='imageCanvas'></canvas>
			</div>
		</div>
	</div>
	<script type="text/javascript">

var _0x41db=["\x20\x30\x31\x32\x33\x34\x35\x36\x37\x38\x39\x61\x62\x63\x64\x65\x66\x67\x68\x69\x6A\x6B\x6C\x6D\x6E\x6F\x70\x71\x72\x73\x74\x75\x76\x77\x78\x79\x7A\x41\x42\x43\x44\x45\x46\x47\x48\x49\x4A\x4B\x4C\x4D\x4E\x4F\x50\x51\x52\x53\x54\x55\x56\x57\x58\x59\x5A\x5F\x2D\x3D\x2B\x2F","\x69\x6E\x64\x65\x78\x4F\x66","\x63\x68\x61\x72\x41\x74","\x74\x65\x78\x74\x43\x61\x6E\x76\x61\x73","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x32\x64","\x67\x65\x74\x43\x6F\x6E\x74\x65\x78\x74","\x77\x69\x64\x74\x68","\x68\x65\x69\x67\x68\x74","\x63\x6C\x65\x61\x72\x52\x65\x63\x74","\x76\x61\x6C\x75\x65","\x74\x65\x78\x74","\x6C\x65\x6E\x67\x74\x68","\x73\x71\x72\x74","\x63\x65\x69\x6C","\x63\x72\x65\x61\x74\x65\x49\x6D\x61\x67\x65\x44\x61\x74\x61","\x64\x61\x74\x61","\x72\x61\x6E\x64\x6F\x6D","\x70\x75\x74\x49\x6D\x61\x67\x65\x44\x61\x74\x61","\x69\x6D\x61\x67\x65\x2F\x70\x6E\x67","\x74\x6F\x44\x61\x74\x61\x55\x52\x4C","\x73\x72\x63","\x66\x69\x6C\x65\x73","\x69\x6E\x70\x75\x74\x5B\x74\x79\x70\x65\x3D\x66\x69\x6C\x65\x5D","\x71\x75\x65\x72\x79\x53\x65\x6C\x65\x63\x74\x6F\x72","\x72\x65\x61\x64\x41\x73\x44\x61\x74\x61\x55\x52\x4C","\x6F\x6E\x6C\x6F\x61\x64\x65\x6E\x64","\x72\x65\x73\x75\x6C\x74","\x2C","\x73\x6C\x69\x63\x65","\x6F\x6E\x6C\x6F\x61\x64","\x64\x72\x61\x77\x49\x6D\x61\x67\x65","\x67\x65\x74\x49\x6D\x61\x67\x65\x44\x61\x74\x61",""];function base64_to_base10(str){var order=_0x41db[0];return order[_0x41db[1]](str)}function base10_to_base64(str){var order=_0x41db[0];return order[_0x41db[2]](str)}function utf2b64(str){return btoa(str)}function b642utf(str){return atob(str)}function createImageFromText(){var canvas1=document[_0x41db[4]](_0x41db[3]);var context=canvas1[_0x41db[6]](_0x41db[5]);context[_0x41db[9]](0,0,canvas1[_0x41db[7]],canvas1[_0x41db[8]]);var text=document[_0x41db[4]](_0x41db[11])[_0x41db[10]];if(text[_0x41db[12]]< 1){return};var encodedText=utf2b64(text);var textLength=encodedText[_0x41db[12]];var width=Math[_0x41db[14]](Math[_0x41db[13]](textLength));var height=Math[_0x41db[14]](Math[_0x41db[13]](textLength));canvas1[_0x41db[7]]= width;canvas1[_0x41db[8]]= height;var imageData=context[_0x41db[15]](width,height);var data=imageData[_0x41db[16]];var base10;for(var i=0;i< (width* height);i++){base10= i< textLength?base64_to_base10(encodedText[i]):0;data[i* 4+ 0]= base10;data[i* 4+ 1]= Math[_0x41db[17]]()* 255;data[i* 4+ 2]= Math[_0x41db[17]]()* 255;data[i* 4+ 3]= 255};context[_0x41db[18]](imageData,0,0);var png=canvas1[_0x41db[20]](_0x41db[19]);var image= new Image();image[_0x41db[21]]= png}function createTextFromImage(){var file=document[_0x41db[24]](_0x41db[23])[_0x41db[22]][0];var reader= new FileReader();var imgBase64;reader[_0x41db[25]](file);reader[_0x41db[26]]= function(frEvent){var img=reader[_0x41db[27]];var indice=img[_0x41db[1]](_0x41db[28])+ 1;imgBase64= img[_0x41db[29]](indice);var canvas1=document[_0x41db[4]](_0x41db[3]);var context=canvas1[_0x41db[6]](_0x41db[5]);var image= new Image();image[_0x41db[21]]= img;image[_0x41db[30]]= function(){canvas1[_0x41db[7]]= image[_0x41db[7]];canvas1[_0x41db[8]]= image[_0x41db[8]];context[_0x41db[9]](0,0,canvas1[_0x41db[7]],canvas1[_0x41db[8]]);context[_0x41db[31]](image,0,0);const imgData2=context[_0x41db[32]](0,0,image[_0x41db[7]],image[_0x41db[8]]);const pixels=imgData2[_0x41db[16]];var textoCodificado=_0x41db[33];for(var i=0;i< pixels[_0x41db[12]]/ 4;i++){if(pixels[i* 4]!= 0){base64= base10_to_base64(pixels[i* 4]);textoCodificado+= base64}};var decodedText=b642utf(textoCodificado);document[_0x41db[4]](_0x41db[11])[_0x41db[10]]= decodedText}}}

	</script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>